
should be: 
 {{"TOKEN", "a-EBNF of a-EBNF: Compiles to textual a-grammar"}, {"TAG", Code:{{"TOKEN", "\nvar names = [];\nfunction getNameIdx(name) {\n    var pos = names.indexOf(name);\n    if (pos != -1) { return pos };\n    return names.push(name)-1;\n}\nc.compile(c.asg)\n"}}}, {"SEQUENCE", {{"PRODUCTION", "AEBNF":0, {{"TAG", Code:{{"TOKEN", "push(up.in)"}, {"TOKEN", " TEST "}}, {{"OPTIONAL", {{"TAG", Code:{{"TOKEN", " up.in += ', \\\\n' "}}, {{"IDENT", "Title":1}}}}}, {"IDENT", "Programtag":2}, {"TAG", Code:{{"TOKEN", " up.in = '\\\\n{\\\\n\\\\n' "}}, {{"TOKEN", "{"}}}, {"REPEAT", {{"IDENT", "Production":3}}}, {"TAG", Code:{{"TOKEN", " up.in = '\\\\n}, \\\\n\\\\n' "}}, {{"TOKEN", "}"}}}, {"IDENT", "Programtag":2}, {"IDENT", "start":4}, {"OPTIONAL", {{"TAG", Code:{{"TOKEN", " up.in = ', \\\\n'+up.in+'\\\\n' "}}, {{"IDENT", "Comment":5}}}}}}}}}, {"PRODUCTION", "Programtag":2, {{"OPTIONAL", {{"TAG", Code:{{"TOKEN", " up.in = '{\"TAG\", '+up.in+'}, \\\\n' "}}, {{"IDENT", "Tag":6}}}}}}}, {"PRODUCTION", "Production":3, {{"TAG", Code:{{"TOKEN", " var productionTag = pop();\n                                        if (productionTag != undefined) {\n                                            pop()/*=undefined*/;\n                                            up.in = '{\"TAG\", '+productionTag+', '+up.in+'}'\n                                        };\n                                        up.in += ',\\\\n' "}}, {{"TAG", Code:{{"TOKEN", " up.in = '{\"'+up.in+'\", '+getNameIdx(up.in)+', ';\n                                        push(undefined) "}}, {{"IDENT", "Name":7}}}, {"OPTIONAL", {{"TAG", Code:{{"TOKEN", " push(up.in); up.in = '' "}}, {{"IDENT", "Tag":6}}}}}, {"TAG", Code:{{"TOKEN", "up.in=''"}}, {{"TOKEN", "="}}}, {"OPTIONAL", {{"IDENT", "Expression":8}}}, {"TAG", Code:{{"TOKEN", " up.in = '}' "}}, {{"TOKEN", ";"}}}}}}}, {"PRODUCTION", "Expression":8, {{"TAG", Code:{{"TOKEN", " if (/*or*/ pop()) {\n                                            up.in = '{\"OR\", '+up.in+'}'\n                                        } "}}, {{"TAG", Code:{{"TOKEN", " /*or=false*/ push(false); "}}, {{"IDENT", "Alternative":9}}}, {"REPEAT", {{"TAG", Code:{{"TOKEN", "up.in=''"}}, {{"TOKEN", "|"}}}, {"TAG", Code:{{"TOKEN", " /*or=true*/ pop();push(true); up.in = ', '+up.in "}}, {{"IDENT", "Alternative":9}}}}}}}}}, {"PRODUCTION", "Alternative":9, {{"IDENT", "Taggedterm":10}, {"REPEAT", {{"TAG", Code:{{"TOKEN", " up.in = ', '+up.in "}}, {{"IDENT", "Taggedterm":10}}}}}}}, {"PRODUCTION", "Taggedterm":10, {{"TAG", Code:{{"TOKEN", "up.in=pop()"}}, {{"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"IDENT", "Term":11}}}, {"OPTIONAL", {{"TAG", Code:{{"TOKEN", " push('{\"TAG\", '+up.in+', '+pop()+'}') "}}, {{"IDENT", "Tag":6}}}}}}}}}, {"PRODUCTION", "Term":11, {{"OR", {{"TAG", Code:{{"TOKEN", " up.in = '{\"IDENT\", \"'+up.in+'\", '+getNameIdx(up.in)+'}' "}}, {{"IDENT", "Name":7}}}, {"GROUP", {{"IDENT", "Token":12}, {"OPTIONAL", {{"TOKEN", "..."}, {"IDENT", "Token":12}}}}}, {"IDENT", "Group":13}, {"IDENT", "Option":14}, {"IDENT", "Repetition":15}, {"IDENT", "skipspaces":16}}}}}, {"PRODUCTION", "Group":13, {{"TAG", Code:{{"TOKEN", " up.in = '{'+pop()+'}' "}}, {{"TOKEN", "("}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"IDENT", "Expression":8}}}, {"TOKEN", ")"}}}}}, {"PRODUCTION", "Option":14, {{"TAG", Code:{{"TOKEN", " up.in = '{\"OPTIONAL\", '+pop()+'}' "}}, {{"TOKEN", "["}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"IDENT", "Expression":8}}}, {"TOKEN", "]"}}}}}, {"PRODUCTION", "Repetition":15, {{"TAG", Code:{{"TOKEN", " up.in = '{\"REPEAT\", '+pop()+'}' "}}, {{"TOKEN", "{"}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"IDENT", "Expression":8}}}, {"TOKEN", "}"}}}}}, {"PRODUCTION", "skipspaces":16, {{"OR", {{"TAG", Code:{{"TOKEN", " up.in = '{\"SKIPSPACES\", true}' "}}, {{"TOKEN", "+"}}}, {"TAG", Code:{{"TOKEN", " up.in = '{\"SKIPSPACES\", false}' "}}, {{"TOKEN", "-"}}}}}}}, {"PRODUCTION", "Title":1, {{"IDENT", "Token":12}}}, {"PRODUCTION", "start":4, {{"TAG", Code:{{"TOKEN", " up.in = '{\"IDENT\", \"'+up.in+'\", '+getNameIdx(up.in)+'}' "}}, {{"IDENT", "Name":7}}}}}, {"PRODUCTION", "Comment":5, {{"IDENT", "Token":12}}}, {"PRODUCTION", "Tag":6, {{"TAG", Code:{{"TOKEN", "up.in=pop()"}}, {{"TOKEN", "<"}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"IDENT", "Code":17}}}, {"REPEAT", {{"TOKEN", ","}, {"TAG", Code:{{"TOKEN", " push(pop()+', '+up.in) "}}, {{"IDENT", "Code":17}}}}}, {"TOKEN", ">"}}}}}, {"PRODUCTION", "Code":17, {{"TAG", Code:{{"TOKEN", " up.in = '{\"TOKEN\", '+sprintf(\"%q\",pop())+'}' "}}, {{"TOKEN", "~~"}, {"SKIPSPACE", false}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"REPEAT", {{"OPTIONAL", {{"TOKEN", "~"}}}, {"IDENT", "Codeinner":18}}}}}, {"TOKEN", "~~"}, {"SKIPSPACE", true}}}}}, {"PRODUCTION", "Codeinner":18, {{"OR", {{"IDENT", "Small":19}, {"IDENT", "Caps":20}, {"IDENT", "Digit":21}, {"IDENT", "Special":22}, {"TOKEN", "'"}, {"TOKEN", "\""}, {"TOKEN", "\\\\~"}}}}}, {"PRODUCTION", "Name":7, {{"OR", {{"IDENT", "Small":19}, {"IDENT", "Caps":20}}}, {"SKIPSPACE", false}, {"REPEAT", {{"OR", {{"IDENT", "Small":19}, {"IDENT", "Caps":20}, {"IDENT", "Digit":21}, {"TOKEN", "_"}}}}}, {"SKIPSPACE", true}}}, {"PRODUCTION", "Token":12, {{"TAG", Code:{{"TOKEN", " up.in = '{\"TOKEN\", '+sprintf(\"%q\",pop())+'}' "}}, {{"OR", {{"IDENT", "Dqtoken":23}, {"IDENT", "Sqtoken":24}}}}}}}, {"PRODUCTION", "Dqtoken":23, {{"TOKEN", "\""}, {"SKIPSPACE", false}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"REPEAT", {{"OR", {{"IDENT", "Small":19}, {"IDENT", "Caps":20}, {"IDENT", "Digit":21}, {"IDENT", "Special":22}, {"TOKEN", "~"}, {"TOKEN", "'"}, {"TOKEN", "\\\\\""}}}}}}}, {"TOKEN", "\""}, {"SKIPSPACE", true}}}, {"PRODUCTION", "Sqtoken":24, {{"TOKEN", "'"}, {"SKIPSPACE", false}, {"TAG", Code:{{"TOKEN", "push(up.in)"}}, {{"REPEAT", {{"OR", {{"IDENT", "Small":19}, {"IDENT", "Caps":20}, {"IDENT", "Digit":21}, {"IDENT", "Special":22}, {"TOKEN", "~"}, {"TOKEN", "\""}, {"TOKEN", "\\\\'"}}}}}}}, {"TOKEN", "'"}, {"SKIPSPACE", true}}}, {"PRODUCTION", "Digit":21, {{"OR", {{"TOKEN", "0"}, {"TOKEN", "1"}, {"TOKEN", "2"}, {"TOKEN", "3"}, {"TOKEN", "4"}, {"TOKEN", "5"}, {"TOKEN", "6"}, {"TOKEN", "7"}, {"TOKEN", "8"}, {"TOKEN", "9"}}}}}, {"PRODUCTION", "Small":19, {{"OR", {{"TOKEN", "a"}, {"TOKEN", "b"}, {"TOKEN", "c"}, {"TOKEN", "d"}, {"TOKEN", "e"}, {"TOKEN", "f"}, {"TOKEN", "g"}, {"TOKEN", "h"}, {"TOKEN", "i"}, {"TOKEN", "j"}, {"TOKEN", "k"}, {"TOKEN", "l"}, {"TOKEN", "m"}, {"TOKEN", "n"}, {"TOKEN", "o"}, {"TOKEN", "p"}, {"TOKEN", "q"}, {"TOKEN", "r"}, {"TOKEN", "s"}, {"TOKEN", "t"}, {"TOKEN", "u"}, {"TOKEN", "v"}, {"TOKEN", "w"}, {"TOKEN", "x"}, {"TOKEN", "y"}, {"TOKEN", "z"}}}}}, {"PRODUCTION", "Caps":20, {{"OR", {{"TOKEN", "A"}, {"TOKEN", "B"}, {"TOKEN", "C"}, {"TOKEN", "D"}, {"TOKEN", "E"}, {"TOKEN", "F"}, {"TOKEN", "G"}, {"TOKEN", "H"}, {"TOKEN", "I"}, {"TOKEN", "J"}, {"TOKEN", "K"}, {"TOKEN", "L"}, {"TOKEN", "M"}, {"TOKEN", "N"}, {"TOKEN", "O"}, {"TOKEN", "P"}, {"TOKEN", "Q"}, {"TOKEN", "R"}, {"TOKEN", "S"}, {"TOKEN", "T"}, {"TOKEN", "U"}, {"TOKEN", "V"}, {"TOKEN", "W"}, {"TOKEN", "X"}, {"TOKEN", "Y"}, {"TOKEN", "Z"}}}}}, {"PRODUCTION", "Special":22, {{"OR", {{"TOKEN", "_"}, {"TOKEN", " "}, {"TOKEN", "."}, {"TOKEN", ","}, {"TOKEN", ":"}, {"TOKEN", ";"}, {"TOKEN", "!"}, {"TOKEN", "?"}, {"TOKEN", "+"}, {"TOKEN", "-"}, {"TOKEN", "*"}, {"TOKEN", "/"}, {"TOKEN", "="}, {"TOKEN", "("}, {"TOKEN", ")"}, {"TOKEN", "{"}, {"TOKEN", "}"}, {"TOKEN", "["}, {"TOKEN", "]"}, {"TOKEN", "<"}, {"TOKEN", ">"}, {"TOKEN", "|"}, {"TOKEN", "%"}, {"TOKEN", "$"}, {"TOKEN", "&"}, {"TOKEN", "#"}, {"TOKEN", "@"}, {"TOKEN", "\\\\\\\\"}, {"TOKEN", "\\\\t"}, {"TOKEN", "\\t"}, {"TOKEN", "\\\\n"}, {"TOKEN", "\\n"}, {"TOKEN", "\\\\r"}, {"TOKEN", "\\r"}}}}}}}, {"TAG", Code:{{"TOKEN", " print(pop()) "}}}, {"IDENT", "AEBNF":0}, {"TOKEN", "This a-EBNF contains the grammatic and semantic information for annotated EBNF.\nIt allows to automatically create a compiler for everything described in a-EBNF (yes, that format)."}}
