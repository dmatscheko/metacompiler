{{"PRODUCTION", {{"TAG", {{"OPTIONAL", {{"IDENT", String:"title", Int:1}}}, {"OPTIONAL", {{"IDENT", String:"tag", Int:2}}}, {"TERMINAL", String:"{"}, {"OPTIONAL", {{"IDENT", String:"production", Int:3}}}, {"REPEAT", {{"TAG", {{"IDENT", String:"production", Int:3}}, {{"TERMINAL", String:", {{.childCode}}"}}}}}, {"TERMINAL", String:"}"}, {"OPTIONAL", {{"IDENT", String:"tag", Int:2}}}, {"OPTIONAL", {{"IDENT", String:"comment", Int:4}}}}, {{"TERMINAL", String:"{{\"{\"}}{{.childCode}}{{\"}\"}}"}}}}, String:"program"}, {"PRODUCTION", {{"TAG", {{"TAG", {{"IDENT", String:"name", Int:5}}, {{"TERMINAL", String:"{{setLocal \"name\" .childStr}}"}}}, {"OPTIONAL", {{"IDENT", String:"tag", Int:2}}}, {"TERMINAL", String:"="}, {"OPTIONAL", {{"IDENT", String:"expression", Int:6}}}, {"OR", {{"TERMINAL", String:"."}, {"TERMINAL", String:";"}}}}, {{"TERMINAL", String:"{\"{{.locals.name}}\", {{ident .locals.name}}, {{.childCode}}{{\"}\"}}; {{addProduction .locals.name (ident .locals.name) .childObj}}{{upstream (group .locals.name (ident .locals.name) .childObj)}}"}}}}, String:"production", Int:3}, {"PRODUCTION", {{"TAG", {{"TAG", {{"IDENT", String:"alternative", Int:7}}, {{"TERMINAL", String:"{{setLocal \"or\" false}}{{.childCode}}"}}}, {"REPEAT", {{"SEQUENCE", {{"TERMINAL", String:"|"}, {"TAG", {{"IDENT", String:"alternative", Int:7}}, {{"TERMINAL", String:"{{setLocal \"or\" true}}, {{.childCode}}"}}}}}}}}, {{"TERMINAL", String:"{{if (eq .locals.or true)}}{\"OR\", {{.childCode}}{{\"}\"}}{{else}}{{.childCode}}{{end}}"}}}}, String:"expression", Int:6}, {"PRODUCTION", {{"TAG", {{"TAG", {{"IDENT", String:"term", Int:8}}, {{"TERMINAL", String:"{{.childCode}}"}}}, {"REPEAT", {{"TAG", {{"IDENT", String:"term", Int:8}}, {{"TERMINAL", String:", {{.childCode}}"}}}}}}, {{"TERMINAL", String:"{{if (gt (lenx .childObj) 1)}}{{\"{\"}}{{.childCode}}{{\"}\"}}{{else}}{{.childCode}}{{end}}"}}}}, String:"alternative", Int:7}, {"PRODUCTION", {{"SEQUENCE", {{"OR", {{"IDENT", String:"name", Int:5}, {"SEQUENCE", {{"IDENT", String:"text", Int:9}, {"OPTIONAL", {{"SEQUENCE", {{"TERMINAL", String:"..."}, {"IDENT", String:"text", Int:9}}}}}}}, {"IDENT", String:"group", Int:10}, {"IDENT", String:"option", Int:11}, {"IDENT", String:"repetition", Int:12}, {"IDENT", String:"skipspaces", Int:13}}}, {"OPTIONAL", {{"IDENT", String:"tag", Int:2}}}}}}, String:"term", Int:8}, {"PRODUCTION", {{"TAG", {{"TERMINAL", String:"("}, {"IDENT", String:"expression", Int:6}, {"TERMINAL", String:")"}}, {{"TERMINAL", String:"{{if (gt (lenx .childObj) 1)}}{{\"{\"}}{{.childCode}}{{\"}\"}}{{upstream (group .childObj)}}{{else}}{{.childCode}}{{end}}"}}}}, String:"group", Int:10}, {"PRODUCTION", {{"TAG", {{"TERMINAL", String:"["}, {"IDENT", String:"expression", Int:6}, {"TERMINAL", String:"]"}}, {{"TERMINAL", String:"{{if notNil .childObj}}{\"OPTIONAL\", {{.childCode}}}{{upstream \"OPTIONAL\" (group .childObj)}}{{end}}"}}}}, String:"option", Int:11}, {"PRODUCTION", {{"TAG", {{"TERMINAL", String:"{"}, {"IDENT", String:"expression", Int:6}, {"TERMINAL", String:"}"}}, {{"TERMINAL", String:"{{if notNil .childObj}}{\"REPEAT\", {{.childCode}}}{{upstream \"REPEAT\" (group .childObj)}}{{end}}"}}}}, String:"repetition", Int:12}, {"PRODUCTION", {{"OR", {{"TAG", {{"TERMINAL", String:"+"}}, {{"TERMINAL", String:"{\"SKIPSPACES\", true}{{upstream \"SKIPSPACES\" true}}"}}}, {"TAG", {{"TERMINAL", String:"-"}}, {{"TERMINAL", String:"{\"SKIPSPACES\", false}{{upstream \"SKIPSPACES\" false}}"}}}}}}, String:"skipspaces", Int:13}, {"PRODUCTION", {{"IDENT", String:"text", Int:9}}