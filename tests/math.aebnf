"math test"
<~~ c.compile(c.asg) ~~>

{

expression  =
    term                   
    {
        ( "+" | "-" )      <~~push(up.in)~~>
        term               <~~
                           var t2 = parseInt(pop())
                           var op = pop()
                           var t1 = parseInt(pop())
                           var res = (op=="+") ? t1 + t2 : t1 - t2
                           push(res)
                           ~~>
    }
    ;

term        =
    factor                 
    {
        ( "*" | "/" )      <~~push(up.in)~~>
        factor             <~~
                           var t2 = parseInt(pop())
                           var op = pop()
                           var t1 = parseInt(pop())
                           var res = (op=="*") ? t1 * t2 : t1 / t2
                           push(res)
                           ~~>
    }
    ;

factor      =
    (
        "("                
        expression         
        ")"                
    )
    |
    number                 <~~push(up.in)~~>
    ;

number      = "0" | nonzero { "0" | nonzero } ;
nonzero     = "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;

}

<~~ println("\\nRESULT: " + pop()) ~~>

expression
